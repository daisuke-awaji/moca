# Backend API Server Configuration

# =============================================================================
# サーバー設定
# =============================================================================
PORT=3000
NODE_ENV=development

# =============================================================================
# CORS設定
# =============================================================================
# 許可するオリジン（カンマ区切り、* で全て許可）
CORS_ALLOWED_ORIGINS=*
# 本番環境の場合の例:
# CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com,https://admin.your-domain.com

# =============================================================================
# Cognito 設定（JWT認証 - aws-jwt-verify）
# =============================================================================

# Cognito User Pool ID (required - server will not start without these)
COGNITO_USER_POOL_ID=ap-northeast-1_xxxxxxxxx
COGNITO_REGION=ap-northeast-1

# Cognito App Client ID (optional: restricts accepted tokens to specific client)
# COGNITO_CLIENT_ID=your-app-client-id


# =============================================================================
# AgentCore Memory 設定
# =============================================================================
AGENTCORE_MEMORY_ID=your-memory-id
AGENTCORE_GATEWAY_ENDPOINT=https://your-gateway-id.gateway.bedrock-agentcore.us-east-1.amazonaws.com/mcp

# =============================================================================
# User Storage 設定
# =============================================================================
# CDKでデプロイ後に取得できるS3バケット名
USER_STORAGE_BUCKET_NAME=your-bucket-name-user-storage-account-region

# =============================================================================
# AWS 設定
# =============================================================================
# AWS リージョン（Lambda環境では自動設定されますが、ローカル開発では明示的に指定）
AWS_REGION=ap-northeast-1

# =============================================================================
# Agents Table 設定
# =============================================================================
# CDKでデプロイ後に取得できるDynamoDBテーブル名
# 例: AgentCoreAppDev-AgentsTableName
AGENTS_TABLE_NAME=your-agents-table-name

# =============================================================================
# Sessions Table 設定
# =============================================================================
# CDKでデプロイ後に取得できるDynamoDBテーブル名
SESSIONS_TABLE_NAME=your-sessions-table-name

# =============================================================================
# Event-Driven Triggers 設定（トリガー機能を使用する場合）
# =============================================================================
# Triggers DynamoDB テーブル名
TRIGGERS_TABLE_NAME=your-triggers-table-name

# Trigger Lambda ARN（EventBridge Schedulerが呼び出すLambda）
TRIGGER_LAMBDA_ARN=arn:aws:lambda:ap-northeast-1:123456789012:function:your-trigger-lambda

# EventBridge Scheduler用のIAMロールARN
SCHEDULER_ROLE_ARN=arn:aws:iam::123456789012:role/your-scheduler-role

# EventBridge Schedulerのグループ名（省略時は 'default'）
SCHEDULE_GROUP_NAME=default

# =============================================================================
# 使用例
# =============================================================================
# 1. ローカル開発:
#    - COGNITO_USER_POOL_ID と COGNITO_REGION を設定（必須）
#    - aws-jwt-verify で Cognito User Pool に対して常に JWT 検証を実行
#
# 2. 本番環境:
#    - すべての設定を適切に設定
#    - NODE_ENV=production に設定
